# 画像検索アプリ

Reactを用いる

### 画像検索アプリの流れ

ユーザーが検索キーワードを入力する。

「検索」ボタンが押される。

入力されたキーワードを使ってAPIリクエストを送る。

APIから画像のURLを含むデータを受け取る。

取得した画像のURLを使って、画面に画像を表示する。

### 学習メモ

#### イベントオブジェクトとは？

イベントオブジェクトは、ボタンのクリックやキーボード入力など、ブラウザ上で何かが起きたときに、そのイベントに関する情報をまとめて提供してくれる特別なオブジェクトです。

例えば、あなたが「検索」ボタンをクリックしたとしましょう。そのクリックという「イベント」には、様々な情報が含まれています。

・どこがクリックされたか？ (e.target)

・どのキーが押されたか？ (e.key)

・マウスのX座標は？ (e.clientX)

これらの情報を取得するために、Reactはイベントハンドラ関数（onClickやonChangeに指定した関数 ex. onclick={イベントハンドラ関数}）の引数として、このイベントオブジェクトを自動的に渡してくれます。慣習的にeやeventと名付けられます。

e,eventを引数として利用する場合はテキスト自身と結びついてる関数でのみ使えるbuttonを押したらテキストの内容を取るわけじゃなくてボタンがどう押されたかだけしか取れない

だからonclickと結びつくイベントハンドラ関数の引数としてeを選択しても入力欄の内容は得られない

#### エラーメッセージの一括管理

```javaScript
const [error, setError] = useState({ message: null, type: null });
```
messageは表示するテキスト、typeはエラーの種類（例: 'warning', 'api_error'）を区別するために使います。

また、この文章をreturn文で表示させる時にnullがfalseと同じ役割であるから三項演算子(?,:)が使える

```javaScript
{error.message ? (
    <p>{error.message}</p>
    ) : (
)}
```

#### .trim()とは

.trim()は、JavaScriptの文字列が持つメソッドです。文字列の両端にある空白（スペース、タブ、改行など）を取り除くことができる

これによりユーザーが入力した余計に入力した空白等があっても純粋な文字列として取り出せる

たとえば、ユーザーが入力フォームに「　　買い物　　」のように余計なスペースを入れてしまった場合、.trim()を使うと「買い物」という純粋な文字列だけを取得できます。

元の文字列: "　　買い物　　"

.trim()実行後: "買い物"

#### APIキーの管理方法

githubなどにプログラムを公開する時にAPIキーを公開しない方法

##### 1. envファイルの作成

プロジェクトのルートディレクトリに .env という名前のファイルを作成します。

このファイルには、公開したくない秘密の情報（APIキーなど）を記述します。

重要なルール

ファイル名: 必ず.env とします。

変数名: Reactのプロジェクトでは、環境変数名の前に REACT_APP_ を付けます。

書き方: キー=値 の形式で書きます。

クォーテーションは不要: 値をクォーテーション（"" や ''）で囲まないでください。

##### 2. gitignoreファイルの設定

.env ファイルが誤ってGitにプッシュされないように、.gitignore ファイルに追記します。

これにより、.env ファイルはGitの管理対象から外れます。

##### 3. コード内での呼び出し

Reactのコード内でAPIキーを使う際は、process.env を通して参照します。

書き方

process.env.変数名(1.で作成した変数を用いる)

追記

.envはローカルファイルのため自分自身の環境にしかない

